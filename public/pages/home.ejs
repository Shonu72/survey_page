<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/public/css/homepage.css" type="text/css" />
    <title>Survey Website</title>
    <style>
      .question {
        display: none;
      }
    </style>
  </head>
  <body>
    <header>
      <h3>QUESTIONNAIRES AND DEMOGRAPHIC INFORMATION FOR MULTICUTURAL RESEARCH</h3>
      <p><strong>Instruction : </strong> It is anonymous, so please answer as honestly as possible so we can gather information on how a young person like you behaves and how we can improve our contexts. It will take approximately 30 minutes to answer all the questions, and you should respond according to your level of agreement or disagreement</p>
    </header>

    <form action="/home" method="post" id="surveyForm">
    
    <div class="question" id="q1">
        <label id="question-label"></label><br>
        <input type="radio" name="q1" value="1" /> Strongly Disagree <br />
        <input type="radio" name="q1" value="2" /> Disagree <br />
        <input type="radio" name="q1" value="3" /> Neither Agree nor Disagree <br />
        <input type="radio" name="q1" value="4" /> Agree <br />
        <input type="radio" name="q1" value="5" /> Strongly Agree <br />
      </div>

      
      <div class="btn" style="display: flex">
        <button type="button" id="prevButton" onclick="prevQuestion()">
            Previous
          </button>
          <button type="button" id="nextButton" onclick="nextQuestion()">
            Next
          </button>
          <button type="submit" id="submitButton" style="display: none">
            Submit
          </button>
      </div>
    </form>

    // <script src="/public/javaScript/homepage.js"></script>
    <script>
      async function getNextQuestion(direction) {
        const responseJSON = JSON.stringify({ direction: direction });
        const requestOptions = {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: responseJSON,
        };
  
        try {
          const response = await fetch('/nextQuestion', requestOptions);
          console.log(responseJSON);
          const data = await response.json();
          console.log(data.question);
          document.getElementById('question-label').textContent = data.question;
        } catch (error) {
          console.error('Error fetching next question:', error);
        }
      }
  
      document.getElementById('nextButton').addEventListener('click', () => {
        getNextQuestion('next');
      });
  
      document.getElementById('prevButton').addEventListener('click', () => {
        getNextQuestion('previous');
      });
    </script>
  </body>
</html>
